{"ast":null,"code":"import _slicedToArray from\"/Users/chenxi/xii/\\u4EE3\\u7801\\u533A4/umin/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect,useContext,createContext}from'react';import{VStack,Box,HStack,useColorMode,Divider}from'@chakra-ui/core';import{BsBarChart,BsTerminalFill,BsAward,BsCreditCard,BsClipboardData,BsPerson,BsShieldLock,BsBell,BsBootstrapReboot}from'react-icons/bs';// * Mock menu list data\nvar menuList=[[{key:'analysis',name:'做题分析',icon:'BsBarChart'},{key:'progress',name:'进度管理',icon:'BsTerminalFill'}],[{key:'points',name:'积分',icon:'BsAward'},{key:'coupon',name:'优惠券',icon:'BsCreditCard'},{key:'order',name:'订单',icon:'BsClipboardData'}],[{key:'account',name:'个人资料',icon:'BsPerson'},{key:'security',name:'账号安全',icon:'BsShieldLock'},{key:'notification',name:'通知与隐私',icon:'BsBell'},{key:'plan',name:'体验计划',icon:'BsBootstrapReboot'}]];var VectorIcon=function VectorIcon(props){switch(props.iconName){case'BsBarChart':return/*#__PURE__*/_jsx(BsBarChart,{});case'BsTerminalFill':return/*#__PURE__*/_jsx(BsTerminalFill,{});case'BsAward':return/*#__PURE__*/_jsx(BsAward,{});case'BsCreditCard':return/*#__PURE__*/_jsx(BsCreditCard,{});case'BsClipboardData':return/*#__PURE__*/_jsx(BsClipboardData,{});case'BsPerson':return/*#__PURE__*/_jsx(BsPerson,{});case'BsShieldLock':return/*#__PURE__*/_jsx(BsShieldLock,{});case'BsBell':return/*#__PURE__*/_jsx(BsBell,{});case'BsBootstrapReboot':return/*#__PURE__*/_jsx(BsBootstrapReboot,{});default:return/*#__PURE__*/_jsx(BsBarChart,{});}};var MenuListSection=function MenuListSection(props){var section=props.section;return/*#__PURE__*/_jsxs(_Fragment,{children:[section&&section.map(function(item,index){return/*#__PURE__*/_jsx(MenuItem,{item:item},index);}),/*#__PURE__*/_jsx(Divider,{})]});};var MenuItem=function MenuItem(props){var item=props.item;var _useContext=useContext(MenuListContext),colorMode=_useContext.colorMode,clickedItem=_useContext.clickedItem,setClickedItem=_useContext.setClickedItem;return/*#__PURE__*/_jsx(Box,{as:\"button\",d:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\",p:4,fontSize:16,fontWeight:450,mt:6,w:\"100%\",cursor:\"pointer\",borderRadius:\"5px\",_hover:{color:\"rgba(45, 181, 93, 1)\",bgColor:colorMode===\"light\"?\"rgba(0, 0, 0, 0.04)\":\"rgba(255, 255, 255, 0.04)\"},bgColor:clickedItem===item.key?colorMode===\"light\"?\"rgba(0, 0, 0, 0.04)\":\"rgba(255, 255, 255, 0.04)\":\"\",color:clickedItem===item.key?colorMode===\"light\"?\"rgba(45, 181, 93, 1)\":\"rgba(45, 181, 93, 1)\":\"rgba(140, 140, 140, 1)\",outline:\"none\",onClick:function onClick(){return setClickedItem(item.key);},children:/*#__PURE__*/_jsxs(HStack,{spacing:3,children:[/*#__PURE__*/_jsx(VectorIcon,{iconName:item.icon}),/*#__PURE__*/_jsx(Box,{as:\"span\",children:item.name})]})});};var MenuListContext=/*#__PURE__*/createContext({});export var Menu=function Menu(){var _useColorMode=useColorMode(),colorMode=_useColorMode.colorMode,toggleColorMode=_useColorMode.toggleColorMode;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),clickedItem=_useState2[0],setClickedItem=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),menuTreeNodes=_useState4[0],setMenuTreeNodes=_useState4[1];useEffect(function(){var menuTree=menuList.length!==0?renderMenuList(menuList):null;setMenuTreeNodes(menuTree);},[]);var renderMenuList=function renderMenuList(menuListData){return menuListData.map(function(section,sectionKey){return/*#__PURE__*/_jsx(MenuListSection,{section:section},sectionKey);});};return/*#__PURE__*/_jsx(MenuListContext.Provider,{value:{colorMode:colorMode,clickedItem:clickedItem,setClickedItem:setClickedItem},children:/*#__PURE__*/_jsx(VStack,{children:menuTreeNodes})});};","map":{"version":3,"sources":["/Users/chenxi/xii/代码区4/umin/src/components/Menu.tsx"],"names":["React","useState","useEffect","useContext","createContext","VStack","Box","HStack","useColorMode","Divider","BsBarChart","BsTerminalFill","BsAward","BsCreditCard","BsClipboardData","BsPerson","BsShieldLock","BsBell","BsBootstrapReboot","menuList","key","name","icon","VectorIcon","props","iconName","MenuListSection","section","map","item","index","MenuItem","MenuListContext","colorMode","clickedItem","setClickedItem","color","bgColor","Menu","toggleColorMode","menuTreeNodes","setMenuTreeNodes","menuTree","length","renderMenuList","menuListData","sectionKey"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useContext, createContext, Dispatch, SetStateAction} from 'react'\nimport { VStack, Box, HStack, useColorMode, Divider, ColorMode } from '@chakra-ui/core';\nimport {BsBarChart, BsTerminalFill, BsAward, BsCreditCard, BsClipboardData, BsPerson, BsShieldLock, BsBell, BsBootstrapReboot} from 'react-icons/bs'\n\ninterface IMenuItem {\n  key: string\n  name: string\n  icon: string\n}\n\ninterface IMenuItemProps {\n  item: IMenuItem\n}\n\ninterface IMenuListSection  {\n  section: IMenuItem[]\n}\n\ninterface IMenuContext {\n  colorMode: ColorMode\n  clickedItem: string\n  setClickedItem: Dispatch<SetStateAction<string>>\n}\n\n// * Mock menu list data\nconst menuList: IMenuItem[][] = [\n  [\n    {key: 'analysis', name: '做题分析', icon: 'BsBarChart'},\n    {key: 'progress', name: '进度管理', icon: 'BsTerminalFill'},\n  ],\n  [\n    {key: 'points', name: '积分', icon: 'BsAward'},\n    {key: 'coupon', name: '优惠券', icon: 'BsCreditCard'},\n    {key: 'order', name: '订单', icon: 'BsClipboardData'},\n  ],\n  [\n    {key: 'account', name: '个人资料', icon: 'BsPerson'},\n    {key: 'security', name: '账号安全', icon: 'BsShieldLock'},\n    {key: 'notification', name: '通知与隐私', icon: 'BsBell'},\n    {key: 'plan', name: '体验计划', icon: 'BsBootstrapReboot'},\n  ]\n]\n\nconst VectorIcon = (props: { iconName: string }): JSX.Element => {\n  switch (props.iconName) {\n    case 'BsBarChart': return <BsBarChart />\n    case 'BsTerminalFill': return <BsTerminalFill />\n    case 'BsAward': return <BsAward />\n    case 'BsCreditCard': return <BsCreditCard />\n    case 'BsClipboardData': return <BsClipboardData />\n    case 'BsPerson': return <BsPerson />\n    case 'BsShieldLock': return <BsShieldLock />\n    case 'BsBell': return <BsBell />\n    case 'BsBootstrapReboot': return <BsBootstrapReboot />\n    default: return <BsBarChart />\n  }\n}\n\nconst MenuListSection = (props: IMenuListSection) => {\n  const { section } = props;\n\n  return (\n    <>\n      {section && section.map((item, index) => (<MenuItem key={index} item={item} />))}\n      <Divider />\n    </>\n  )\n}\n\nconst MenuItem = (props: IMenuItemProps) => {\n  const { item } = props;\n  const {colorMode, clickedItem, setClickedItem} = useContext(MenuListContext)\n\n  return (\n    <Box\n      as=\"button\"\n      d=\"flex\"\n      justifyContent=\"flex-start\"\n      alignItems=\"center\"\n      p={4}\n      fontSize={16}\n      fontWeight={450}\n      mt={6}\n      w=\"100%\"\n      cursor=\"pointer\"\n      borderRadius=\"5px\"\n      _hover={{ color: \"rgba(45, 181, 93, 1)\", bgColor: colorMode === \"light\" ? \"rgba(0, 0, 0, 0.04)\" : \"rgba(255, 255, 255, 0.04)\" }}\n      bgColor={clickedItem === item.key ? colorMode === \"light\" ? \"rgba(0, 0, 0, 0.04)\" : \"rgba(255, 255, 255, 0.04)\" : \"\"}\n      color={clickedItem === item.key ? colorMode === \"light\" ? \"rgba(45, 181, 93, 1)\" : \"rgba(45, 181, 93, 1)\" : \"rgba(140, 140, 140, 1)\"}\n      outline=\"none\"\n      onClick={() => setClickedItem(item.key)}>\n      <HStack spacing={3}>\n        <VectorIcon iconName={item.icon} />\n        <Box as=\"span\">\n          {item.name}\n        </Box>\n      </HStack>\n    </Box>\n  )\n}\n\nconst MenuListContext = createContext({} as IMenuContext)\nexport const Menu = () => {\n  const { colorMode, toggleColorMode } = useColorMode()\n  const [clickedItem, setClickedItem] = useState<string>('')\n  const [menuTreeNodes, setMenuTreeNodes] = useState<JSX.Element[] | null>(null)\n\n  useEffect(() => {\n    const menuTree = menuList.length !== 0 ? renderMenuList(menuList) : null\n    setMenuTreeNodes(menuTree)\n  }, [])\n\n  const renderMenuList = (menuListData: IMenuItem[][]): JSX.Element[] => {\n    return menuListData.map((section, sectionKey) => (<MenuListSection key={sectionKey} section={section} />))\n  }\n\n  return (\n    <MenuListContext.Provider value={{colorMode, clickedItem, setClickedItem}}>\n      <VStack>\n        {menuTreeNodes}\n      </VStack>\n    </MenuListContext.Provider>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}