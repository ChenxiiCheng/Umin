(this.webpackJsonpumin=this.webpackJsonpumin||[]).push([[0],{136:function(e,t,n){"use strict";n.r(t);var r=n(4),i=n(1),o=n(50),c=n.n(o),a=n(162),s=n(160),l=n(53),u=n(33),j=n(35),b=n(118),d=n(148),p=n(155),x=n(149),h=n(150),g=n(151),O=n(116),m=n(152),f=n(153),v=n(106),w=n(147),C=n(44),y=function(e){var t=Object(b.c)().toggleColorMode,n=Object(b.d)("dark","light"),i=Object(b.d)(C.a,C.f);return Object(r.jsx)(w.a,Object(v.a)({size:"sm",fontSize:"lg",variant:"ghost",color:"current",marginLeft:"2",onClick:t,icon:Object(r.jsx)(i,{}),"aria-label":"Switch to ".concat(n," mode")},e))},S=n(79),k=n(25),B=n.p+"static/media/new.614ecb77.svg",I=[{id:1,name:"\u63a2\u7d22",url:"https://www.chenxii.xyz"},{id:2,name:"\u9898\u5e93",url:"https://www.chenxii.xyz"},{id:3,name:"\u8ba8\u8bba",url:"https://www.chenxii.xyz"},{id:4,name:"\u7ade\u8d5b",url:"https://www.chenxii.xyz"},{id:5,name:"\u4f01\u4e1a",url:"https://www.chenxii.xyz"}],_=function(){var e=Object(b.d)("white","#1A202C"),t=Object(b.d)("rgba(38, 38, 38, 1)","white"),n=Object(b.d)("rgba(240, 240, 240, 1)","#2D3748");return Object(r.jsx)(d.a,{borderBottom:"1px solid ".concat(n),fontSize:"sm",fontWeight:"450",color:t,bg:e,"data-testid":"navigationBar",children:Object(r.jsxs)(d.a,{d:"flex",justifyContent:"space-between",flexWrap:"nowrap",minW:"992px",maxW:"1200px",w:"100%",mx:"auto",px:"20px",py:"6px",position:"relative",children:[Object(r.jsx)(x.a,{spacing:"30px","data-testid":"links",children:I.map((function(e){return Object(r.jsx)(h.a,{href:e.url,isExternal:!0,_hover:{textColor:"rgba(34, 34, 34, 1)",fontWeight:400},children:Object(r.jsx)(g.a,{cursor:"pointer",children:e.name})},e.id)}))}),Object(r.jsxs)(x.a,{spacing:"30px",children:[Object(r.jsx)(O.a,{size:"sm",leftIcon:Object(r.jsx)(S.a,{}),colorScheme:"teal",variant:"outline",cursor:"pointer","data-testid":"btn__download",children:"\u4e0b\u8f7dApp"}),Object(r.jsx)(O.a,{size:"sm",leftIcon:Object(r.jsx)(S.b,{}),colorScheme:"yellow",variant:"outline",cursor:"pointer","data-testid":"btn__premium",children:"Plus\u4f1a\u5458"}),Object(r.jsx)(d.a,{_hover:{color:"blue",stroke:"blue"},children:Object(r.jsx)(k.e,{size:18,cursor:"pointer",color:"rgba(140, 140, 140, 1)","data-testid":"icon__clipboard"})}),Object(r.jsx)(d.a,{_hover:{color:"rgba(89, 89, 89, 1)"},children:Object(r.jsx)(k.c,{size:18,cursor:"pointer",color:"rgba(140, 140, 140, 1)","data-testid":"icon__bell"})}),Object(r.jsx)(m.a,{size:"xs",cursor:"pointer","data-testid":"avatar",children:Object(r.jsx)(m.b,{boxSize:"1em",bg:"green.500"})}),Object(r.jsx)(y,{})]}),Object(r.jsx)(f.a,{src:B,alt:"new feature",position:"absolute",right:"510px",top:"-9px",cursor:"pointer",transition:"all 0.3s",_hover:{top:"-3px"}})]})})},q=n(8),z=n(154),A=[[{key:"user_accounts",name:"\u7528\u6237\u5217\u8868",icon:"BsBarChart"},{key:"progress",name:"\u8fdb\u5ea6\u7ba1\u7406",icon:"BsTerminalFill"}],[{key:"points",name:"\u79ef\u5206",icon:"BsAward"},{key:"coupon",name:"\u4f18\u60e0\u5238",icon:"BsCreditCard"},{key:"order",name:"\u8ba2\u5355",icon:"BsClipboardData"}],[{key:"account",name:"\u4e2a\u4eba\u8d44\u6599",icon:"BsPerson"},{key:"security",name:"\u8d26\u53f7\u5b89\u5168",icon:"BsShieldLock"},{key:"notification",name:"\u901a\u77e5\u4e0e\u9690\u79c1",icon:"BsBell"},{key:"plan",name:"\u4f53\u9a8c\u8ba1\u5212",icon:"BsBootstrapReboot"}]],E=function(e){switch(e.iconName){case"BsBarChart":return Object(r.jsx)(k.b,{});case"BsTerminalFill":return Object(r.jsx)(k.i,{});case"BsAward":return Object(r.jsx)(k.a,{});case"BsCreditCard":return Object(r.jsx)(k.f,{});case"BsClipboardData":return Object(r.jsx)(k.e,{});case"BsPerson":return Object(r.jsx)(k.g,{});case"BsShieldLock":return Object(r.jsx)(k.h,{});case"BsBell":return Object(r.jsx)(k.c,{});case"BsBootstrapReboot":return Object(r.jsx)(k.d,{});default:return Object(r.jsx)(k.b,{})}},W=function(e){var t=e.section;return Object(r.jsxs)(r.Fragment,{children:[t&&t.map((function(e,t){return Object(r.jsx)(L,{item:e},t)})),Object(r.jsx)(z.a,{})]})},L=function(e){var t=e.item,n=Object(u.d)(),o=Object(i.useContext)(M),c=o.colorMode,a=o.clickedItem,s=o.setClickedItem;Object(i.useEffect)((function(){s(A&&A[0]&&A[0][0].key)}),[]);return Object(r.jsx)(d.a,{as:"button",d:"flex",justifyContent:"flex-start",alignItems:"center",p:4,fontSize:16,fontWeight:450,mt:6,w:"100%",cursor:"pointer",borderRadius:"5px",_hover:{color:"rgba(45, 181, 93, 1)",bgColor:"light"===c?"rgba(0, 0, 0, 0.04)":"rgba(255, 255, 255, 0.04)"},bgColor:a===t.key?"light"===c?"rgba(0, 0, 0, 0.04)":"rgba(255, 255, 255, 0.04)":"",color:a===t.key?"rgba(45, 181, 93, 1)":"rgba(140, 140, 140, 1)",outline:"none",onClick:function(){s(t.key),n(t.key)},children:Object(r.jsxs)(x.a,{spacing:3,children:[Object(r.jsx)(E,{iconName:t.icon}),Object(r.jsx)(d.a,{as:"span",children:t.name})]})})},M=Object(i.createContext)({}),R=function(){var e=Object(b.c)(),t=e.colorMode,n=(e.toggleColorMode,Object(i.useState)("")),o=Object(q.a)(n,2),c=o[0],a=o[1],s=Object(i.useState)(null),l=Object(q.a)(s,2),u=l[0],j=l[1];Object(i.useEffect)((function(){var e=0!==A.length?d(A):null;j(e)}),[]);var d=function(e){return e.map((function(e,t){return Object(r.jsx)(W,{section:e},t)}))};return Object(r.jsx)(M.Provider,{value:{colorMode:t,clickedItem:c,setClickedItem:a},children:Object(r.jsx)(x.b,{children:u})})},U="USER_LOGIN_STATUS",P=function(){return null!==(localStorage.getItem(U)||null)},T=function(e){var t=e.children,n=Object(u.d)(),o=Object(b.d)("white",""),c=Object(b.d)("rgba(138, 138, 138, 1)","white");return Object(i.useEffect)((function(){P()?n("user_accounts"):n("login")}),[]),Object(r.jsxs)(d.a,{textAlign:"center",fontSize:"md",bgColor:o,color:c,children:[P()&&Object(r.jsx)(_,{}),Object(r.jsxs)(p.a,{templateColumns:"repeat(4, 1fr)",gap:4,minW:"960px",maxW:"1120px",w:"100%",mx:"auto",minH:"800px",children:[Object(r.jsx)(p.b,{colSpan:1,children:Object(r.jsx)(R,{})}),Object(r.jsx)(p.b,{colSpan:3,children:t})]})]})},F=n(161),D=n(156),N=n(157),$=n(158),H=n(117),J=n(163),G=n(159),Q=n(71);function K(){var e=Object(Q.a)(["\n  query {\n    getAllUsers {\n      id\n      email\n      nickname\n      isAdmin\n      isSuperUser\n      isActive\n    }\n  }\n"]);return K=function(){return e},e}function V(){var e=Object(Q.a)(["\n  mutation RegisterMutatin($user: UserInput!) {\n    createUser(user: $user) {\n      id\n      nickname\n      email\n      isAdmin\n      isSuperUser\n      isActive\n    }\n  }\n"]);return V=function(){return e},e}function X(){var e=Object(Q.a)(["\n  mutation LoginMutation($user: UserLogin!) {\n    login(user: $user) {\n      user {\n        id\n        nickname\n        email\n        isAdmin\n        isSuperUser\n        isActive\n      }\n      token\n    }\n  }\n"]);return X=function(){return e},e}var Y=Object(j.gql)(X()),Z=Object(j.gql)(V()),ee=(Object(j.gql)(K()),function(e){var t=e.type,n=(e.location,Object(u.d)()),o=Object(F.a)(),c=Object(j.useMutation)(Y),a=Object(q.a)(c,2),s=a[0],l=a[1],p=l.error,x=l.loading,h=Object(j.useMutation)(Z),m=Object(q.a)(h,2),f=m[0],v=m[1],w=v.error,y=v.loading,S=Object(b.d)("white","rgba(26, 33, 46, 0.8)"),k=Object(b.d)("#1A202C","white"),B=Object(b.d)("md","2px 4px 6px -1px rgba(250,255,255,0.1), 0px 2px 4px -1px rgba(255,255,255,0.1)"),I=Object(i.useState)(""),_=Object(q.a)(I,2),z=_[0],A=_[1],E=Object(i.useState)(""),W=Object(q.a)(E,2),L=W[0],M=W[1],R=Object(i.useState)(""),P=Object(q.a)(R,2),T=P[0],Q=P[1],K=Object(i.useState)(!1),V=Object(q.a)(K,2),X=V[0],ee=V[1],te=Object(i.useState)(!1),ne=Object(q.a)(te,2),re=ne[0],ie=ne[1],oe=Object(i.useState)(!1),ce=Object(q.a)(oe,2),ae=ce[0],se=ce[1],le=Object(i.useState)(!1),ue=Object(q.a)(le,2),je=ue[0],be=ue[1];Object(i.useEffect)((function(){if("undefined"!==typeof p||"undefined"!==typeof w){var e=(p?null===p||void 0===p?void 0:p.graphQLErrors[0].message:"")||(w?null===w||void 0===w?void 0:w.graphQLErrors[0].message:"");o({title:"Failed",status:"error",description:e,duration:2500,position:"top",isClosable:!0})}}),[p,w]);return Object(r.jsx)("form",{onSubmit:function(e){e.preventDefault();var r=!1,i=!1,c=!1;z&&z.includes("@")||(r=!0,ee(!0),o({title:"Error",description:"Please enter valid email address",status:"error",duration:3e3,position:"top",isClosable:!0})),T||(i=!0,ie(!0),o({title:"Error",description:"Please enter correct password",status:"error",duration:3e3,position:"top",isClosable:!0})),"register"===t&&(!L||L.length<4)&&(c=!0,se(!0),o({title:"Warning",description:"Minimum length of nickname is 4",status:"warning",duration:3e3,position:"top",isClosable:!0}));var a={email:z,password:T};L&&(a.nickname=L),r||i||c||("login"===t?s({variables:{user:a}}).then((function(e){!function(e){var t=e.token,n=e.user;localStorage.setItem(U,JSON.stringify(n)),localStorage.setItem("USER_LOGIN_TOKEN",t)}(e.data.login),n("/"),o({title:"Login Success",status:"success",duration:2e3,position:"top",isClosable:!0})})).catch((function(){n("/login")})):f({variables:{user:a}}).then((function(e){n("/login"),o({title:"Register Success",status:"success",description:"Registered success, now please login in.",duration:2e3,position:"top",isClosable:!0})})).catch((function(){n("/register")})))},children:Object(r.jsxs)(d.a,{display:"flex",flexDir:"column",justifyContent:"space-between",alignItems:"center",shadow:B,borderWidth:"1px",borderRadius:"md",p:10,pt:9,minW:530,minH:"login"===t?400:450,maxW:600,maxH:600,color:k,background:S,fontSize:"lg",fontWeight:"450",children:[Object(r.jsx)(D.a,{as:"h2",size:"xl",children:"login"===t?"Sign In":"Sign Up"}),Object(r.jsx)(g.a,{color:k,_hover:{color:"gray.500"},children:"login"===t?Object(r.jsx)(u.a,{to:"/register",children:"\ud83d\ude31 Do not have an account?"}):Object(r.jsx)(u.a,{to:"/login",children:"\ud83d\udd25 Already have an account?"})}),Object(r.jsxs)(N.a,{mt:3,children:[Object(r.jsx)($.a,{pointerEvents:"none",children:Object(r.jsx)(C.b,{color:"gray.300"})}),Object(r.jsx)(H.a,{isRequired:!0,children:Object(r.jsx)(J.a,{type:"text",pl:"20px",focusBorderColor:"gray.300",isInvalid:!0===X,errorBorderColor:!0===X?"red.300":"",placeholder:"Email",value:z,onChange:function(e){return A(e.currentTarget.value)}})})]}),"register"===t?Object(r.jsxs)(N.a,{children:[Object(r.jsx)($.a,{pointerEvents:"none",children:Object(r.jsx)(C.e,{color:"gray.300"})}),Object(r.jsx)(H.a,{isRequired:!0,children:Object(r.jsx)(J.a,{type:"text",pl:"20px",focusBorderColor:"gray.300",isInvalid:!0===ae,errorBorderColor:!0===ae?"red.300":"",placeholder:"Nickname",value:L,onChange:function(e){return M(e.currentTarget.value)}})})]}):null,Object(r.jsxs)(N.a,{children:[Object(r.jsx)($.a,{pointerEvents:"none",children:je?Object(r.jsx)(C.c,{color:"gray.300"}):Object(r.jsx)(C.d,{color:"gray.300"})}),Object(r.jsx)(H.a,{isRequired:!0,children:Object(r.jsx)(J.a,{type:je?"text":"password",focusBorderColor:"gray.300",pl:"20px",isInvalid:!0===re,errorBorderColor:!0===re?"red.300":"",placeholder:"Password",value:T,onChange:function(e){return Q(e.currentTarget.value)}})}),Object(r.jsx)(G.a,{children:Object(r.jsx)(O.a,{h:"2rem",w:"3rem",size:"md",mr:2,onClick:function(){return be(!je)},children:Object(r.jsx)(g.a,{color:"gray.500",children:je?"Hide":"Show"})})})]}),Object(r.jsx)(O.a,{color:k,w:"100%",type:"submit",isLoading:x||y,children:"login"===t?"Sign In":"Sign Up"})]})})}),te=function(e){return Object(r.jsxs)(d.a,{d:"flex",justifyContent:"center",alignItems:"center",w:"100vw",h:"100vh",mt:"-60px",children:[Object(r.jsx)(d.a,{position:"absolute",top:"100",right:"100",children:Object(r.jsx)(y,{})}),Object(r.jsx)(ee,{type:"login"})]})},ne=function(e){return Object(r.jsxs)(d.a,{d:"flex",justifyContent:"center",alignItems:"center",w:"100vw",h:"100vh",mt:"-60px",children:[Object(r.jsx)(d.a,{position:"absolute",top:"100",right:"100",children:Object(r.jsx)(y,{})}),Object(r.jsx)(ee,{type:"register"})]})},re=function(){var e=Object(b.c)(),t=e.colorMode;e.toggleColorMode;return Object(r.jsx)(d.a,{mt:6,p:5,bgColor:"light"===t?"rgba(255, 255, 255, 1)":"rgba(29, 37, 53, 1)",color:"light"===t?"#1A202C":"rgba(219, 219, 219, 1)",fontSize:"lg",fontWeight:"450",boxShadow:"light"===t?"0px 1px 5px rgba(0, 0, 0, 0.1)":"0 1px 7px rgba(0, 0, 0, 0.3)",children:"hello Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio commodi voluptate cumque, quod rerum quasi iure maxime eaque fuga voluptatibus voluptates voluptatum. Consequatur ab veritatis consectetur assumenda dignissimos in obcaecati ratione, pariatur quidem enim architecto, illo error itaque, at adipisci distinctio laboriosam impedit sed qui iure neque ipsa a! Fugiat enim, sunt odio mollitia veniam ipsum! Commodi, vel quae a nesciunt, quam temporibus possimus reprehenderit maiores veniam magni excepturi totam? Maxime minus sequi distinctio non consectetur earum harum exercitationem, nesciunt optio eaque unde? Reprehenderit esse architecto aut. Accusamus aspernatur esse nulla voluptatum dicta illo reprehenderit beatae voluptatem, sunt facilis dolore?"})},ie=function(e){return Object(r.jsx)(re,{})},oe=new j.ApolloClient({uri:"http://localhost:3000/graphql",cache:new j.InMemoryCache}),ce=function(){return Object(i.useEffect)((function(){P()?Object(u.c)("/user_accounts"):Object(u.c)("login")}),[]),Object(r.jsx)(j.ApolloProvider,{client:oe,children:Object(r.jsxs)(a.a,{theme:l.a,children:[Object(r.jsx)(s.a,{}),Object(r.jsxs)(u.b,{children:[Object(r.jsx)(te,{path:"login"}),Object(r.jsx)(ne,{path:"register"}),Object(r.jsx)(T,{path:"/",children:Object(r.jsx)(ie,{path:"user_accounts"})})]})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,164)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),o(e),c(e)}))};c.a.render(Object(r.jsx)(ce,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),ae()}},[[136,1,2]]]);
//# sourceMappingURL=main.bc845624.chunk.js.map